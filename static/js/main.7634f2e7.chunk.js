(this.webpackJsonpdemos=this.webpackJsonpdemos||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},31:function(e,t,a){e.exports=function(){return new Worker(a.p+"8dc0263d0e729b9944c3.worker.js")}},47:function(e,t,a){e.exports=a(55)},52:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a.n(n),l=a(29),o=a.n(l),i=(a(52),a(30)),c=a.n(i),s=(a(53),a(21)),u=a(22),h=a(26),m=a(23),d=a(27),g=a(2),p=a(57),v=a(31),f=a.n(v),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={demo:a.props.demo},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){switch(this.state.demo){case"fractal":return r.a.createElement(y,{canvasId:"demo"});default:return}}}]),t}(r.a.Component),y=function(e){function t(e){var a;Object(s.a)(this,t);return(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={canvasId:a.props.canvasId,width:200,height:200,expr:"z^2 + z0",zoom:"2",center:"0",iterations:1,smallColor:[0,0,255,255],largeColor:[255,0,0,255],boundary:2,img:null},a.initState=a.state,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"modulus",value:function(e){return g.Fe(e.re*e.re+e.im*e.im)}},{key:"imgToComplex",value:function(e,t){var a=g.ob(2*e/this.state.width-1,-2*t/this.state.height+1);return p.a(a).multiply(this.state.zoom).add(this.state.center).done()}},{key:"setPixel",value:function(e,t,a,n){for(var r=4*(t+a*e.width),l=0;l<4;l++)e.data[r+l]=n[l]}},{key:"color",value:function(e){return[g.de(255*(1-e/this.state.iterations)),0,g.de(e/this.state.iterations*255),255]}},{key:"getFunc",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(a){return g.ob(p.b(e.state.expr.replace(/z0/g,"(".concat(t.toString(),")")).replace(/z/g,"(".concat(a.toString(),")"))))}}},{key:"renderWithWorker",value:function(){var e=this,t=document.getElementById(this.state.canvasId).getContext("2d"),a=t.createImageData(this.state.width,this.state.height),n=new f.a;n.onmessage=function(n){var r;"string"!=typeof n.data?(a=n.data,r=a,e.setState(r),t.putImageData(a,0,0)):alert("problem generating fractal: "+n.data)},this.setState({img:a},(function(){n.postMessage(e.state)}))}},{key:"renderFractal",value:function(){for(var e=document.getElementById(this.state.canvasId).getContext("2d"),t=e.createImageData(this.state.width,this.state.height),a=0;a<=t.height;a++)for(var n=0;n<=t.width;n++){for(var r=this.imgToComplex(n,a),l=this.getFunc(r),o=0;o<this.state.iterations&&this.modulus(r)<=this.state.boundary;o++)try{r=l(r)}catch(i){return void alert("Problem in Fractal.renderFractal: "+i.toString())}this.modulus(r)>this.state.boundary&&this.setPixel(t,n,a,this.color(o))}e.putImageData(t,0,0)}},{key:"handleExpr",value:function(e){-1==e.target.value.search(/[^0-9zi+\-*\/^(). ]/)&&this.setState({expr:e.target.value})}},{key:"handleIterations",value:function(e){this.setState({iterations:e.target.value})}},{key:"handleSmallColor",value:function(e){this.setState({smallColor:e.target.value})}},{key:"handleLargeColor",value:function(e){this.setState({largeColor:e.target.value})}},{key:"handleSize",value:function(e){this.setState({width:e.target.value,height:e.target.value})}},{key:"handleCenter",value:function(e){-1==e.target.value.search(/[^0-9i+\-*\/^(). ]/)&&this.setState({center:e.target.value})}},{key:"handleZoom",value:function(e){-1==e.target.value.search(/[^0-9i+\-*\/^(). ]/)&&this.setState({zoom:e.target.value})}},{key:"handleUpdate",value:function(e){try{this.setState({center:p.b(this.state.center).toString(),zoom:p.b(this.state.zoom).toString()},this.renderWithWorker)}catch(t){alert("Problem in Fractal.handleUpdate: "+t.toString())}e.preventDefault()}},{key:"componentDidMount",value:function(){this.renderWithWorker()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"function:"),r.a.createElement("td",null,r.a.createElement("input",{type:"text",onChange:function(t){return e.handleExpr(t)},value:this.state.expr}))),r.a.createElement("tr",null,r.a.createElement("td",null,"iterations:"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",min:"0",onChange:function(t){return e.handleIterations(t)},value:this.state.iterations}))),r.a.createElement("tr",null,r.a.createElement("td",null,"center (complex):"),r.a.createElement("td",null,r.a.createElement("input",{type:"text",onChange:function(t){return e.handleCenter(t)},value:this.state.center}))),r.a.createElement("tr",null,r.a.createElement("td",null,"zoom (complex):"),r.a.createElement("td",null,r.a.createElement("input",{type:"text",onChange:function(t){return e.handleZoom(t)},value:this.state.zoom}))),r.a.createElement("tr",null,r.a.createElement("td",null,"iteration colors:"),r.a.createElement("td",null,r.a.createElement("input",{type:"color",onChange:function(t){return e.handleSmallColor(t)},value:this.state.smallColor})),r.a.createElement("td",null,r.a.createElement("input",{type:"color",onChange:function(t){return e.handleLargeColor(t)},value:this.state.largeColor}))),r.a.createElement("tr",null,r.a.createElement("td",null,"size:"),r.a.createElement("td",null,r.a.createElement("input",{type:"number",min:"50",max:"800",onChange:function(t){return e.handleSize(t)},value:this.state.height}))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"submit",value:"Update",onClick:function(t){return e.handleUpdate(t)}})))))),r.a.createElement("canvas",{id:this.state.canvasId,width:this.state.width,height:this.state.height}))}}]),t}(r.a.Component),b=E;var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Demos"),r.a.createElement("img",{src:c.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",null,"Edit ",r.a.createElement("code",null,"src/App.js")," and save to reload."),r.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")),r.a.createElement(b,{demo:"fractal"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.7634f2e7.chunk.js.map